<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新闻详情</title>
    <link rel="stylesheet" type="text/css" href="static/css/index.css" />
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="static/css/iview.min.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <!-- <link rel="stylesheet" type="text/css" href="static/css/animate.min.css" /> -->

    <!-- <link rel="stylesheet" type="text/css" href="static/css/quasar.min.css" /> -->
</head>
<style>
    [v-cloak]{
 display: none;
}
    .box {
        box-sizing: border-box;
        padding: 0 15vw;
    }

    .card-body {
        padding: 0 1.25rem
    }
</style>

<body>
    <div id="app" class="" v-cloak>
        <!-- 头部 -->
        <div class="row header">
            <div class="left col-4 col-sm-5 col-md-5 col-lg-5">
                <div class="">
                    <img class="logo" src="./static/img/logo.png" alt="" title="安广·规上古">
                </div>
            </div>
            <div class="right col-8 col-sm-7 col-md-7 col-lg-7">
                <nav class="nav nav-pills">
                    <a class="nav-link " href="./index.html">创客空间</a>
                    <a class="nav-link active" href="./news.html">规上古头条</a>
                    <a class="nav-link" href="./links.html">环保科技链</a>
                    <a class="nav-link " href="./services.html">企业服务</a>
                </nav>
            </div>
        </div>

        <div class="box">
            <Divider></Divider>
            <div class="news">
                <p class="title">{{detail.title}}</p>

                <div class="p_time">
                    <span>发布者：{{detail.publisher}}</span>
                    <span style="margin-left:10px">发布时间：{{detail.p_time}}</span>
                </div>
                <img class="newsImg" :src="detail.img" alt="">
                <div class="news-detail">
                    {{detail.detail}}
                </div>

            </div>
            <Divider>end</Divider>
        </div>
    </div>


    <script src="static/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/axios.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/vue.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/iview.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/request.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/quasar.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="static/js/zh-hans.min.js" type="text/javascript" charset="utf-8"></script>

    <script type="text/javascript">
        new Vue({
            el: '#app',
            data: function () {
                return {
                    detail: '',
                    // carouselHeight: ''
                }
            },
            created() {
                // this.getCHeight();
                this.getID();
            },
            mounted() {
                // this.init();

            },

            methods: {
                // getCHeight() {
                //     this.carouselHeight = window.innerHeight - 100;
                // },
                getID() {
                    let params = location.search.substring(1);
                    let values = params.split('&');
                    for (let i = 0; i < values.length; i++) {
                        let pos = values[i].indexOf('=');
                        if (pos == -1) continue;
                        let paramsName = values[i].substring(0, pos);
                        let id = values[i].substring(pos + 1)
                        this.init(id);
                    }
                },

                init(id) {
                    let postData = {
                        Function: 'GetHeadline',
                        id: id
                    };
                    Post('/api/Incubator/APIMethod', postData)
                        .then(res => {
                            console.log(res);
                            this.detail = res.data.data;

                        })
                        .catch(err => {
                            console.log(err)
                        })
                },

            }
        })
    </script>

</body>

</html>